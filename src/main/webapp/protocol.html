<!DOCTYPE html>
<html ng-app="protocol">
<head lang="en">
    <meta charset="UTF-8">
    <title>Облік ресурсів</title>
    <link rel="stylesheet" type="text/css" href="css/lib/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="css/lib/bootstrap-datetimepicker.css">
    <link rel="stylesheet" type="text/css" href="./css/main.css">

</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="./questionary.html">Облік ресурсів</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="./questionary.html">Робота з анкетами</a></li>
                <li class="active"><a href="./protocol.html">Робота з протоколами</a></li>
                <li><a href="./statistic.html">Статистика</a></li>>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</nav>

<div class="container" ng-controller="FormController as form">
    <h3 class="text-center">ПРОТОКОЛ ПРОВЕДЕННЯ</h3>

    <h3 class="text-center">І етапу Всеукраїнської студентської олімпіади</h3>

    <form class="form-horizontal" name="protocolForm">
        <div class="form-group" ng-class="{ 'has-error':protocolForm.date.$invalid }">
            <label for="date" class="col-sm-2 control-label">Дата проведення</label>

            <div class="col-sm-2">
                <div id="date_picker" class="input-group date" data-date="" data-date-format="yyyy-MM-dd" >
                    <input class="form-control" size="16" type="text" value="" id="date" name="date" ng-model="protocol.date" required>
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                </div>
            </div>
        </div>

        <div class="form-group" ng-class="{ 'has-error':protocolForm.category.$invalid }">
            <label for="category" class="col-sm-2 control-label">Категорія олімпіади</label>

            <div class="col-sm-4">
                <select class="form-control" id="category" name="category" ng-model="protocol.category" required>
                    <option ng-repeat="dysciplina in form.dysciplinas" value={{dysciplina.id}}>{{dysciplina.name}}</option>
                </select>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error':protocolForm.category_name.$invalid }">
            <label for="category-name" class="col-sm-2 control-label">Назва категорії</label>

            <div class="col-sm-6">
                <input type="text" id="category-name" class="form-control" name="category_name" ng-model="protocol.category_name" required>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error':protocolForm.kafedra.$invalid }">
            <label for="kafedra" class="col-sm-2 control-label">Кафедра</label>

            <div class="col-sm-4">
                <select class="form-control" id="kafedra" name="kafedra" ng-model="protocol.kafedra" required>
                    <option ng-repeat="kafedra in form.kafedras" value={{kafedra.id}}>{{kafedra.name}}</option>
                </select>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error':protocolForm.institut.$invalid }">
            <label for="institut" class="col-sm-2 control-label">Інститут</label>

            <div class="col-sm-4" >
                <select class="form-control" id="institut" name="institut" ng-model="protocol.institut" required>
                    <option ng-repeat="institut in form.instituts" value={{institut.id}}>{{institut.name}}</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="com_head" class="col-sm-2 control-label">Голова комісії</label>

            <div class="col-sm-4">
                <input type="text" class="form-control" id="com_head" name="com_head" ng-model="protocol.com_head">
            </div>
        </div>
        <div class="form-group row">
            <label for="com_participant" class="col-sm-2 control-label">Члени жюрі:</label>

            <div class="col-sm-4" id="participants">
                <input type="text" class="form-control" id="com_participant" name="com_participant" ng-model="protocol.com_participant">
            </div>
            <div class="col-sm-2">
                <button type="button" id="add_participant" class="btn btn-default">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </button>
            </div>
        </div>
        <fieldset>
            <legend>Статистичні дані участі студентів у І етапі олімпіади</legend>
            <div class="form-group">

                <div class="col-sm-9" id="stats">
                    <div class="row" id="stat_row">
                        <label class="col-sm-1 control-label">1</label>

                        <div class="col-sm-4">
                            <select class="form-control" id="institution_stat" name="institution_stat" ng-model="protocol.institution_stat">
                                <option ng-repeat="institut in form.instituts" value={{institut.id}}>{{institut.name}}</option>
                            </select>
                        </div>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" id="stat_count" name="stat_count" ng-model="protocol.stat_count"
                                   placeholder="Кількість студентів">
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <button type="button" id="add_stat" class="btn btn-default">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend>Претенденти на участь у ІІ етапі Олімпіади</legend>
            <div class="form-group" >
                <div class="col-sm-11">
                    <div class="row" id="student_row">
                        <label class="col-sm-1 control-label">1</label>

                        <div class="col-sm-2" ng-class="{ 'has-error':protocolForm.student.$invalid }">
                            <input type="text" class="form-control" id="student" name="student" ng-model="protocol.student"
                                   placeholder="ПІБ студента" required>
                        </div>

                        <div class="col-sm-3" ng-class="{ 'has-error':protocolForm.student_institute.$invalid }">
                            <select class="form-control" id="student_institute" name="student_institute" ng-model="protocol.student_institute" required>
                                <option ng-repeat="institut in form.instituts" value={{institut.id}}>{{institut.name}}</option>
                            </select>
                        </div>

                        <div class="col-sm-2"  ng-class="{ 'has-error':protocolForm.teacher.$invalid }">
                            <input type="text" class="form-control" id="teacher" name="teacher" ng-model="protocol.teacher"
                                   placeholder="ПІБ викладача" required>
                        </div>

                        <div class="col-sm-3" ng-class="{ 'has-error':protocolForm.teacher_kafedra.$invalid }">
                            <select class="form-control" id="teacher_kafedra" name="teacher_kafedra" ng-model="protocol.teacher_kafedra" required>
                                <option ng-repeat="kafedra in form.kafedras" value={{kafedra.id}}>{{kafedra.name}}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-sm-1">
                    <button type="button" id="add_student" class="btn btn-default">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </fieldset>

        <div class="center-block">
            <button class="btn btn-primary btn-lg" type="submit" id="Submit" ng-click="send(protocol)"
                    ng-disabled="protocolForm.$invalid">Додати протокол</button>

            <button class="btn btn-primary btn-lg" type="reset" id="Reset">Обнулити форму</button>
        </div>
    </form>
</div>

<script type="text/javascript" src="js/lib/jquery.js"></script>
<script type="text/javascript" src="js/lib/bootstrap.js"></script>

<script type="text/javascript" src="js/lib/angular.js"></script>

<script type="text/javascript" src="js/main.js"></script>
<script type="text/javascript" src="js/protocol.js"></script>
<script type="text/javascript" src="js/lib/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="js/lib/locales/bootstrap-datetimepicker.ua.js"></script>
</body>
</html>